function Index(e){this.dom={wrap:document.getElementsByClassName("platform")[0],viewImg:document.getElementsByClassName("view-img")[0],view:document.getElementsByClassName("view")[0],upOver:document.getElementsByClassName("up-over")[0],boost:document.getElementsByClassName("boost")[0],oU:document.getElementsByClassName("platform")[0].getElementsByTagName("ul")[0]},this.mul=2<e?e:2,this.init()}function getStyle(e,t){return window.getComputedStyle?parseInt(window.getComputedStyle(e,null)[t]):parseInt(e.currentStyle[t])}Index.prototype.init=function(){this.bindEvent(),this.createView()},Index.prototype.bindEvent=function(){var t=this;t.getSize(0),t.dom.viewImg.addEventListener("mousemove",function(e){t.move(e)},!1),t.dom.viewImg.addEventListener("mouseleave",function(){t.dom.boost.style.display="none",t.dom.upOver.style.display="none"},!1)},Index.prototype.createView=function(){var e=this;e.upOverW=500/e.mul;var t=e.upOverW,i=e.dom.upOver;i.style.width=t+"px",i.style.height=t+"px",i.style.marginLeft="0px",i.style.marginTop="0px",i.style.display="none"},Index.prototype.getSize=function(e){var n,s,m,l,o,a,r=this,p=r.dom.view,g=r.dom.oU,d=r.dom.boost;function y(e){p.innerHTML="",d.innerHTML="";var t=document.createElement("img");t.setAttribute("src",e),p.appendChild(t),n=getStyle(t,"height"),s=getStyle(t,"width");var i=document.createElement("img");i.setAttribute("src",e),viewI=p.getElementsByTagName("img")[0],n<s?(m=500*n/s,viewI.style.width="500px",viewI.style.height=m+"px",viewI.style.top="50%",viewI.style.marginTop="-"+m/2+"px",o=500*r.mul+"px"):(l=500*s/n,viewI.style.height="500px;",viewI.style.width=l+"px",viewI.style.left="50%",viewI.style.marginLeft="-"+l/2+"px",o="",a=500*r.mul+"px"),o?i.setAttribute("width",o):i.setAttribute("height",a),d.appendChild(i),d.setAttribute("style","display:none")}y(g.getElementsByTagName("img")[e].src),g.addEventListener("click",function(e){var t=e||window.event,i=t.target||t.srcElement;if(i.src){y(i.src);var n=g.getElementsByClassName("active")[0];n.className="",t.path[1].setAttribute("class","active")}},!1)},Index.prototype.move=function(e){var t=this,i=t.dom.viewImg.getElementsByTagName("img")[0],n=t.dom.boost,s=n.getElementsByTagName("img")[0];upOver=t.dom.upOver;var m=e||window.event,l=(m.target||m.srcElement,t.dom.wrap),o=getStyle(i,"width"),a=getStyle(i,"height"),r=this.upOverW,p=(500-o)/2,g=(500-a)/2,d=500-p-r,y=500-g-r,v=getStyle(l,"marginLeft"),u=getStyle(l,"left"),c=getStyle(l,"marginTop"),w=u+v,h=getStyle(l,"top")+c,x=e.pageX-w-r/2,I=e.pageY-h-r/2,f=p<x?x<d?x:d:p,E=g<I?I<y?I:y:g,b=(f-(500-o)/2)*t.mul,S=(E-parseInt((500-a)/2))*t.mul;n.style.display="block",upOver.style.marginLeft=f+"px",upOver.style.marginTop=E+"px",upOver.style.display="",s.style.marginLeft="-"+b+"px",s.style.top="-"+S+"px"},new Index(4);